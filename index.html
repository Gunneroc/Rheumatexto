<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rheumatexto - The Rheumatology Word Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --bg-tertiary: #0f3460;
            --text-primary: #eaeaea;
            --text-secondary: #a0a0a0;
            --accent-red: #e94560;
            --accent-orange: #ff6b35;
            --accent-yellow: #f0c808;
            --accent-blue: #4da8da;
            --accent-cold: #7ec8e3;
            --clinical-white: #f5f5f5;
            --success: #4caf50;
        }

        .light-mode {
            --bg-primary: #f5f5f5;
            --bg-secondary: #ffffff;
            --bg-tertiary: #e8f4f8;
            --text-primary: #1a1a2e;
            --text-secondary: #555555;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            transition: background 0.3s, color 0.3s;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0 20px;
            border-bottom: 1px solid var(--bg-tertiary);
            margin-bottom: 20px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--accent-red), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo span {
            font-size: 0.7rem;
            display: block;
            color: var(--text-secondary);
            -webkit-text-fill-color: var(--text-secondary);
        }

        .header-buttons {
            display: flex;
            gap: 10px;
        }

        .icon-btn {
            background: var(--bg-secondary);
            border: none;
            color: var(--text-primary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: background 0.2s, transform 0.2s;
        }

        .icon-btn:hover {
            background: var(--bg-tertiary);
            transform: scale(1.1);
        }

        /* Joint Visualization */
        .joint-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .joint-svg {
            width: 150px;
            height: 200px;
        }

        .joint-bone {
            fill: var(--clinical-white);
            transition: all 0.5s;
        }

        .joint-cartilage {
            fill: var(--accent-blue);
            transition: all 0.5s;
        }

        .joint-synovium {
            fill: var(--accent-cold);
            opacity: 0.3;
            transition: all 0.5s;
        }

        .inflamed-1 .joint-synovium { fill: var(--accent-red); opacity: 0.8; }
        .inflamed-1 .joint-cartilage { fill: var(--accent-orange); }
        .inflamed-2 .joint-synovium { fill: var(--accent-orange); opacity: 0.6; }
        .inflamed-2 .joint-cartilage { fill: #e8a445; }
        .inflamed-3 .joint-synovium { fill: var(--accent-yellow); opacity: 0.5; }
        .inflamed-4 .joint-synovium { fill: var(--accent-blue); opacity: 0.4; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
        }

        .inflamed-1 .joint-synovium {
            animation: pulse 1s ease-in-out infinite;
        }

        /* Inflammation Meter */
        .meter-container {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .meter-bar {
            height: 30px;
            background: linear-gradient(to right,
                var(--accent-cold) 0%,
                var(--accent-blue) 25%,
                var(--accent-yellow) 50%,
                var(--accent-orange) 75%,
                var(--accent-red) 100%);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .meter-indicator {
            position: absolute;
            width: 8px;
            height: 40px;
            background: white;
            border-radius: 4px;
            top: -5px;
            transform: translateX(-50%);
            box-shadow: 0 0 10px rgba(255,255,255,0.8);
            transition: left 0.5s ease-out;
            display: none;
        }

        .meter-indicator.active {
            display: block;
        }

        .meter-value {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            margin-top: 10px;
            min-height: 50px;
        }

        .meter-hint {
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
            min-height: 24px;
        }

        /* Input Area */
        .input-container {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }

        .guess-input {
            flex: 1;
            padding: 15px 20px;
            font-size: 1.1rem;
            border: 2px solid var(--bg-tertiary);
            border-radius: 10px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            outline: none;
            transition: border-color 0.2s;
        }

        .guess-input:focus {
            border-color: var(--accent-blue);
        }

        .guess-input::placeholder {
            color: var(--text-secondary);
        }

        .submit-btn {
            padding: 15px 25px;
            font-size: 1.1rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-red));
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Guess Count */
        .guess-count {
            text-align: center;
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        /* Guess History */
        .history-container {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        .history-title {
            font-size: 1rem;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-list {
            list-style: none;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 8px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .history-item.rank-hot {
            background: linear-gradient(135deg, rgba(233, 69, 96, 0.3), rgba(255, 107, 53, 0.2));
            border-left: 4px solid var(--accent-red);
        }

        .history-item.rank-warm {
            background: rgba(255, 107, 53, 0.2);
            border-left: 4px solid var(--accent-orange);
        }

        .history-item.rank-mild {
            background: rgba(240, 200, 8, 0.2);
            border-left: 4px solid var(--accent-yellow);
        }

        .history-item.rank-cool {
            background: rgba(77, 168, 218, 0.2);
            border-left: 4px solid var(--accent-blue);
        }

        .history-item.rank-cold {
            background: rgba(126, 200, 227, 0.1);
            border-left: 4px solid var(--accent-cold);
        }

        .history-item.new-best {
            animation: newBest 0.5s ease-out;
        }

        @keyframes newBest {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .history-word {
            font-weight: bold;
            text-transform: uppercase;
        }

        .history-rank {
            font-weight: bold;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .rank-hot .history-rank { background: var(--accent-red); color: white; }
        .rank-warm .history-rank { background: var(--accent-orange); color: white; }
        .rank-mild .history-rank { background: var(--accent-yellow); color: #333; }
        .rank-cool .history-rank { background: var(--accent-blue); color: white; }
        .rank-cold .history-rank { background: var(--accent-cold); color: #333; }

        /* Give Up Button */
        .give-up-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--text-secondary);
            border-radius: 8px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .give-up-btn:hover {
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        /* Modals */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 25px;
            max-width: 90%;
            width: 400px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
        }

        .modal-content p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .modal-content h3 {
            margin: 20px 0 10px;
            color: var(--accent-blue);
        }

        /* Stats Modal */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat-box {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent-blue);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Win Modal */
        .win-modal .modal {
            text-align: center;
        }

        .win-title {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .win-word {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--accent-red);
            margin: 20px 0;
        }

        .win-stats {
            font-size: 1.2rem;
            margin: 15px 0;
        }

        .share-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            background: var(--success);
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            margin: 10px 5px;
            transition: transform 0.2s;
        }

        .share-btn:hover {
            transform: scale(1.05);
        }

        .new-game-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            background: var(--accent-blue);
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            margin: 10px 5px;
            transition: transform 0.2s;
        }

        .new-game-btn:hover {
            transform: scale(1.05);
        }

        .guess-visualization {
            display: flex;
            justify-content: center;
            gap: 3px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .guess-block {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }

        /* Settings */
        .setting-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--bg-tertiary);
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-tertiary);
            border-radius: 26px;
            transition: 0.3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background: white;
            border-radius: 50%;
            transition: 0.3s;
        }

        input:checked + .toggle-slider {
            background: var(--accent-blue);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* Confetti */
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(720deg); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: 0;
            z-index: 999;
            animation: confetti-fall 3s linear forwards;
        }

        /* Error Message */
        .error-msg {
            text-align: center;
            color: var(--accent-red);
            font-size: 0.9rem;
            min-height: 24px;
            margin-top: 10px;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }

            .logo {
                font-size: 1.4rem;
            }

            .joint-svg {
                width: 120px;
                height: 160px;
            }

            .meter-value {
                font-size: 1.5rem;
            }

            .input-container {
                flex-direction: column;
            }

            .submit-btn {
                width: 100%;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .stat-value {
                font-size: 1.5rem;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--bg-tertiary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-blue);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                RHEUMATEXTO
                <span>The Rheumatology Word Game</span>
            </div>
            <div class="header-buttons">
                <button class="icon-btn" id="helpBtn" title="How to Play">?</button>
                <button class="icon-btn" id="statsBtn" title="Statistics">üìä</button>
                <button class="icon-btn" id="settingsBtn" title="Settings">‚öôÔ∏è</button>
            </div>
        </header>

        <div class="joint-container">
            <svg class="joint-svg" id="jointDiagram" viewBox="0 0 100 140">
                <!-- Upper bone -->
                <ellipse class="joint-bone" cx="50" cy="20" rx="25" ry="18"/>
                <rect class="joint-bone" x="35" y="18" width="30" height="35"/>
                <ellipse class="joint-bone" cx="50" cy="52" rx="20" ry="12"/>

                <!-- Cartilage -->
                <ellipse class="joint-cartilage" cx="50" cy="58" rx="18" ry="6"/>

                <!-- Synovium/Joint space -->
                <ellipse class="joint-synovium" cx="50" cy="70" rx="22" ry="14"/>

                <!-- Lower cartilage -->
                <ellipse class="joint-cartilage" cx="50" cy="82" rx="18" ry="6"/>

                <!-- Lower bone -->
                <ellipse class="joint-bone" cx="50" cy="88" rx="20" ry="12"/>
                <rect class="joint-bone" x="35" y="87" width="30" height="35"/>
                <ellipse class="joint-bone" cx="50" cy="120" rx="25" ry="18"/>
            </svg>
        </div>

        <div class="meter-container">
            <div class="meter-label">
                <span>‚ùÑÔ∏è Cold</span>
                <span>üî• Flaring</span>
            </div>
            <div class="meter-bar">
                <div class="meter-indicator" id="meterIndicator"></div>
            </div>
            <div class="meter-value" id="meterValue">-</div>
            <div class="meter-hint" id="meterHint">Enter a word to begin</div>
        </div>

        <div class="input-container">
            <input type="text" class="guess-input" id="guessInput" placeholder="Type your guess..." autocomplete="off" autofocus>
            <button class="submit-btn" id="submitBtn">Guess</button>
        </div>
        <div class="error-msg" id="errorMsg"></div>

        <div class="guess-count" id="guessCount">Guesses: 0</div>

        <div class="history-container">
            <div class="history-title">
                <span>Guess History</span>
                <span id="bestRank">Best: -</span>
            </div>
            <ul class="history-list" id="historyList"></ul>
        </div>

        <button class="give-up-btn" id="giveUpBtn">Give Up</button>
    </div>

    <!-- Help Modal -->
    <div class="modal-overlay" id="helpModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">How to Play</h2>
                <button class="modal-close" onclick="closeModal('helpModal')">√ó</button>
            </div>
            <div class="modal-content">
                <p>Welcome to <strong>Rheumatexto</strong> ‚Äì the word guessing game for rheumatology enthusiasts!</p>

                <h3>üéØ Goal</h3>
                <p>Find the secret word! It's related to rheumatology, medicine, or the life of a doctor.</p>

                <h3>üéÆ How It Works</h3>
                <p>1. Type any word and submit your guess</p>
                <p>2. You'll see a <strong>rank</strong> showing how close your guess is:</p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><span style="color: var(--accent-red)">1-10</span>: You're ON FIRE! üî•</li>
                    <li><span style="color: var(--accent-orange)">11-100</span>: Getting warm!</li>
                    <li><span style="color: var(--accent-yellow)">101-500</span>: Lukewarm</li>
                    <li><span style="color: var(--accent-blue)">501-1000</span>: Cool</li>
                    <li><span style="color: var(--accent-cold)">1000+</span>: Ice cold ‚ùÑÔ∏è</li>
                </ul>
                <p>3. Use the hints to guide your next guess</p>
                <p>4. Win by finding the exact word (Rank 1)!</p>

                <h3>üí° Tips</h3>
                <p>Think about rheumatology conditions, treatments, anatomy, lab tests, and doctor life!</p>
            </div>
        </div>
    </div>

    <!-- Stats Modal -->
    <div class="modal-overlay" id="statsModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Statistics</h2>
                <button class="modal-close" onclick="closeModal('statsModal')">√ó</button>
            </div>
            <div class="modal-content">
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-value" id="statPlayed">0</div>
                        <div class="stat-label">Played</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="statWon">0</div>
                        <div class="stat-label">Won</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="statAvg">-</div>
                        <div class="stat-label">Avg Guesses</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="statBest">-</div>
                        <div class="stat-label">Best Win</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="statStreak">0</div>
                        <div class="stat-label">Current Streak</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="statMaxStreak">0</div>
                        <div class="stat-label">Max Streak</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Settings</h2>
                <button class="modal-close" onclick="closeModal('settingsModal')">√ó</button>
            </div>
            <div class="modal-content">
                <div class="setting-row">
                    <span>Light Mode</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="lightModeToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <span>Hard Mode (no hints)</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="hardModeToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Win Modal -->
    <div class="modal-overlay win-modal" id="winModal">
        <div class="modal">
            <h2 class="win-title">üéâ Diagnosis Complete!</h2>
            <div class="win-word" id="winWord">LUPUS</div>
            <div class="win-stats">
                Solved in <strong id="winGuesses">0</strong> guesses!
            </div>
            <div class="guess-visualization" id="guessVisualization"></div>
            <button class="share-btn" id="shareBtn">üìã Share Result</button>
            <button class="new-game-btn" id="newGameBtn">New Game</button>
        </div>
    </div>

    <!-- Give Up Modal -->
    <div class="modal-overlay" id="giveUpModal">
        <div class="modal" style="text-align: center;">
            <h2 class="modal-title">The word was...</h2>
            <div class="win-word" id="revealWord">LUPUS</div>
            <p style="margin: 20px 0; color: var(--text-secondary);">Better luck next time! Every attending started as an intern. üí™</p>
            <button class="new-game-btn" id="newGameAfterGiveUp">New Game</button>
        </div>
    </div>

    <script>
        // ==================== WORD DATA ====================
        const targetWords = [
            'lupus', 'gout', 'arthritis', 'vasculitis', 'scleroderma', 'fibromyalgia',
            'joint', 'cartilage', 'synovium', 'tendon', 'bone',
            'prednisone', 'methotrexate', 'humira', 'infusion', 'steroid',
            'antibody', 'inflammation', 'autoimmune', 'biopsy',
            'clinic', 'rounds', 'pager', 'charting', 'diagnosis',
            'coffee', 'tired', 'swollen'
        ];

        // Pre-computed word rankings for each target word
        // Rankings: 1 = exact match, lower = more related
        const wordRankings = {
            'lupus': {
                'lupus': 1, 'sle': 2, 'autoimmune': 3, 'butterfly': 4, 'rash': 5,
                'systemic': 6, 'erythematosus': 7, 'flare': 8, 'nephritis': 9, 'antibody': 10,
                'ana': 11, 'dsdna': 12, 'complement': 13, 'photosensitivity': 14, 'arthralgia': 15,
                'fatigue': 16, 'fever': 17, 'inflammation': 18, 'kidney': 19, 'joint': 20,
                'disease': 21, 'chronic': 22, 'pain': 23, 'skin': 24, 'sun': 25,
                'immune': 26, 'disorder': 27, 'symptoms': 28, 'treatment': 29, 'prednisone': 30,
                'plaquenil': 31, 'hydroxychloroquine': 32, 'benlysta': 33, 'diagnosis': 34, 'rheumatology': 35,
                'serositis': 36, 'pleuritis': 37, 'pericarditis': 38, 'hematologic': 39, 'anemia': 40,
                'leukopenia': 41, 'lymphopenia': 42, 'thrombocytopenia': 43, 'mouth': 44, 'ulcers': 45,
                'hair': 46, 'loss': 47, 'alopecia': 48, 'raynaud': 49, 'vasculitis': 50,
                'swelling': 51, 'swollen': 52, 'stiffness': 53, 'morning': 54, 'doctor': 55,
                'patient': 56, 'hospital': 57, 'medicine': 58, 'medical': 59, 'health': 60,
                'blood': 61, 'test': 62, 'lab': 63, 'clinic': 64, 'rheumatologist': 65,
                'specialist': 66, 'drug': 67, 'medication': 68, 'therapy': 69, 'steroid': 70,
                'immunosuppressant': 71, 'cellcept': 72, 'mycophenolate': 73, 'azathioprine': 74, 'imuran': 75,
                'methotrexate': 76, 'rituximab': 77, 'infusion': 78, 'injection': 79, 'pill': 80,
                'organ': 81, 'damage': 82, 'heart': 83, 'lung': 84, 'brain': 85,
                'neuropsychiatric': 86, 'seizure': 87, 'psychosis': 88, 'cognitive': 89, 'memory': 90,
                'woman': 91, 'female': 92, 'pregnancy': 93, 'young': 94, 'age': 95,
                'genetic': 96, 'hereditary': 97, 'family': 98, 'history': 99, 'risk': 100,
                'arthritis': 120, 'gout': 150, 'fibromyalgia': 180, 'scleroderma': 200,
                'bone': 250, 'cartilage': 280, 'tendon': 300, 'muscle': 320, 'synovium': 350,
                'tired': 400, 'coffee': 450, 'pager': 500, 'rounds': 550, 'charting': 600,
                'biopsy': 650, 'humira': 700, 'water': 1000, 'car': 1200, 'phone': 1300,
                'computer': 1400, 'house': 1500, 'tree': 1600, 'book': 1700, 'happy': 1800,
                'red': 1850, 'blue': 1900, 'green': 1950, 'food': 2000, 'eat': 2050,
                'run': 2100, 'walk': 2150, 'sleep': 800, 'work': 900, 'time': 1100
            },
            'gout': {
                'gout': 1, 'uric': 2, 'acid': 3, 'crystal': 4, 'podagra': 5,
                'toe': 6, 'big': 7, 'joint': 8, 'arthritis': 9, 'monosodium': 10,
                'urate': 11, 'tophi': 12, 'tophus': 13, 'hyperuricemia': 14, 'purine': 15,
                'allopurinol': 16, 'febuxostat': 17, 'colchicine': 18, 'indomethacin': 19, 'nsaid': 20,
                'inflammation': 21, 'swelling': 22, 'pain': 23, 'red': 24, 'hot': 25,
                'attack': 26, 'flare': 27, 'acute': 28, 'chronic': 29, 'recurrent': 30,
                'diet': 31, 'alcohol': 32, 'beer': 33, 'meat': 34, 'seafood': 35,
                'kidney': 36, 'stone': 37, 'renal': 38, 'excretion': 39, 'production': 40,
                'aspiration': 41, 'synovial': 42, 'fluid': 43, 'microscopy': 44, 'needle': 45,
                'diagnosis': 46, 'blood': 47, 'test': 48, 'level': 49, 'elevated': 50,
                'swollen': 55, 'ankle': 60, 'knee': 65, 'wrist': 70, 'elbow': 75,
                'prednisone': 80, 'steroid': 85, 'injection': 90, 'treatment': 95, 'prevention': 100,
                'lupus': 150, 'rheumatoid': 180, 'osteoarthritis': 200, 'pseudogout': 30,
                'calcium': 35, 'pyrophosphate': 40, 'chondrocalcinosis': 45,
                'doctor': 250, 'patient': 280, 'hospital': 300, 'clinic': 320,
                'bone': 350, 'cartilage': 400, 'tendon': 450, 'muscle': 500,
                'tired': 600, 'coffee': 700, 'pager': 800, 'rounds': 850,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500,
                'tree': 1600, 'book': 1700, 'happy': 1800, 'blue': 1900, 'green': 1950
            },
            'arthritis': {
                'arthritis': 1, 'joint': 2, 'inflammation': 3, 'rheumatoid': 4, 'osteoarthritis': 5,
                'swelling': 6, 'pain': 7, 'stiffness': 8, 'morning': 9, 'synovitis': 10,
                'cartilage': 11, 'bone': 12, 'erosion': 13, 'damage': 14, 'deformity': 15,
                'knuckle': 16, 'finger': 17, 'hand': 18, 'wrist': 19, 'knee': 20,
                'hip': 21, 'ankle': 22, 'shoulder': 23, 'elbow': 24, 'spine': 25,
                'symmetric': 26, 'polyarthritis': 27, 'oligoarthritis': 28, 'monoarthritis': 29, 'chronic': 30,
                'autoimmune': 31, 'degenerative': 32, 'wear': 33, 'tear': 34, 'age': 35,
                'methotrexate': 36, 'biologics': 37, 'dmard': 38, 'nsaid': 39, 'prednisone': 40,
                'humira': 41, 'enbrel': 42, 'remicade': 43, 'infusion': 44, 'injection': 45,
                'diagnosis': 46, 'treatment': 47, 'rheumatologist': 48, 'physical': 49, 'therapy': 50,
                'swollen': 55, 'red': 60, 'warm': 65, 'tender': 70, 'limited': 75,
                'mobility': 80, 'disability': 85, 'quality': 90, 'life': 95, 'function': 100,
                'lupus': 120, 'gout': 130, 'psoriatic': 25, 'ankylosing': 35, 'spondylitis': 40,
                'reactive': 45, 'septic': 50, 'infectious': 55, 'juvenile': 60,
                'doctor': 200, 'patient': 220, 'hospital': 250, 'clinic': 280,
                'tendon': 300, 'muscle': 350, 'ligament': 400, 'synovium': 15,
                'tired': 500, 'coffee': 600, 'pager': 700, 'rounds': 750,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'vasculitis': {
                'vasculitis': 1, 'vessel': 2, 'blood': 3, 'inflammation': 4, 'artery': 5,
                'vein': 6, 'capillary': 7, 'anca': 8, 'granulomatosis': 9, 'wegener': 10,
                'polyangiitis': 11, 'microscopic': 12, 'giant': 13, 'cell': 14, 'temporal': 15,
                'takayasu': 16, 'polyarteritis': 17, 'nodosa': 18, 'kawasaki': 19, 'henoch': 20,
                'schonlein': 21, 'purpura': 22, 'behcet': 23, 'cryoglobulinemia': 24, 'eosinophilic': 25,
                'organ': 26, 'damage': 27, 'kidney': 28, 'lung': 29, 'skin': 30,
                'rash': 31, 'ulcer': 32, 'gangrene': 33, 'ischemia': 34, 'necrosis': 35,
                'biopsy': 36, 'angiography': 37, 'diagnosis': 38, 'treatment': 39, 'prednisone': 40,
                'cyclophosphamide': 41, 'rituximab': 42, 'azathioprine': 43, 'methotrexate': 44, 'infusion': 45,
                'autoimmune': 46, 'systemic': 47, 'fever': 48, 'fatigue': 49, 'weight': 50,
                'loss': 55, 'pain': 60, 'numbness': 65, 'weakness': 70, 'headache': 75,
                'vision': 80, 'blindness': 85, 'stroke': 90, 'heart': 95, 'attack': 100,
                'lupus': 120, 'arthritis': 150, 'scleroderma': 180, 'gout': 250,
                'joint': 300, 'bone': 350, 'cartilage': 400, 'tendon': 450,
                'doctor': 500, 'clinic': 550, 'hospital': 600, 'rounds': 650,
                'tired': 700, 'coffee': 800, 'pager': 900, 'charting': 950,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'scleroderma': {
                'scleroderma': 1, 'skin': 2, 'hardening': 3, 'fibrosis': 4, 'systemic': 5,
                'sclerosis': 6, 'raynaud': 7, 'finger': 8, 'tight': 9, 'thickening': 10,
                'collagen': 11, 'connective': 12, 'tissue': 13, 'limited': 14, 'diffuse': 15,
                'crest': 16, 'calcinosis': 17, 'esophageal': 18, 'dysmotility': 19, 'sclerodactyly': 20,
                'telangiectasia': 21, 'pulmonary': 22, 'hypertension': 23, 'lung': 24, 'interstitial': 25,
                'disease': 26, 'kidney': 27, 'crisis': 28, 'renal': 29, 'heart': 30,
                'gastrointestinal': 31, 'reflux': 32, 'swallowing': 33, 'difficulty': 34, 'autoimmune': 35,
                'antibody': 36, 'scl70': 37, 'centromere': 38, 'ana': 39, 'diagnosis': 40,
                'treatment': 41, 'immunosuppressant': 42, 'methotrexate': 43, 'mycophenolate': 44, 'prednisone': 45,
                'physical': 46, 'therapy': 47, 'occupational': 48, 'hand': 49, 'exercise': 50,
                'cold': 55, 'blue': 60, 'white': 65, 'color': 70, 'change': 75,
                'pain': 80, 'fatigue': 85, 'joint': 90, 'stiffness': 95, 'swelling': 100,
                'lupus': 120, 'vasculitis': 150, 'arthritis': 180, 'myositis': 80,
                'dermatomyositis': 90, 'polymyositis': 95, 'overlap': 100,
                'bone': 300, 'cartilage': 350, 'tendon': 400, 'muscle': 200,
                'doctor': 450, 'clinic': 500, 'hospital': 550, 'rounds': 600,
                'tired': 650, 'coffee': 700, 'pager': 800, 'charting': 850,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'fibromyalgia': {
                'fibromyalgia': 1, 'pain': 2, 'widespread': 3, 'chronic': 4, 'fatigue': 5,
                'tender': 6, 'points': 7, 'muscle': 8, 'ache': 9, 'sleep': 10,
                'disturbance': 11, 'insomnia': 12, 'fog': 13, 'brain': 14, 'cognitive': 15,
                'dysfunction': 16, 'sensitivity': 17, 'central': 18, 'sensitization': 19, 'nervous': 20,
                'system': 21, 'stress': 22, 'anxiety': 23, 'depression': 24, 'mood': 25,
                'headache': 26, 'migraine': 27, 'ibs': 28, 'irritable': 29, 'bowel': 30,
                'syndrome': 31, 'diagnosis': 32, 'criteria': 33, 'acr': 34, 'treatment': 35,
                'lyrica': 36, 'pregabalin': 37, 'cymbalta': 38, 'duloxetine': 39, 'savella': 40,
                'milnacipran': 41, 'amitriptyline': 42, 'exercise': 43, 'physical': 44, 'therapy': 45,
                'cbt': 46, 'cognitive': 47, 'behavioral': 48, 'relaxation': 49, 'meditation': 50,
                'tired': 8, 'exhaustion': 12, 'stiffness': 55, 'morning': 60, 'joint': 65,
                'swelling': 70, 'numbness': 75, 'tingling': 80, 'restless': 85, 'legs': 90,
                'lupus': 150, 'arthritis': 180, 'myofascial': 50, 'chronic': 30,
                'rheumatology': 200, 'doctor': 250, 'clinic': 300, 'patient': 350,
                'bone': 400, 'cartilage': 450, 'tendon': 500, 'inflammation': 100,
                'coffee': 200, 'pager': 600, 'rounds': 650, 'charting': 700,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'joint': {
                'joint': 1, 'articulation': 2, 'bone': 3, 'cartilage': 4, 'synovium': 5,
                'synovial': 6, 'fluid': 7, 'capsule': 8, 'ligament': 9, 'tendon': 10,
                'muscle': 11, 'movement': 12, 'motion': 13, 'range': 14, 'flexibility': 15,
                'knee': 16, 'hip': 17, 'shoulder': 18, 'elbow': 19, 'wrist': 20,
                'ankle': 21, 'finger': 22, 'toe': 23, 'spine': 24, 'neck': 25,
                'pain': 26, 'swelling': 27, 'stiffness': 28, 'inflammation': 29, 'arthritis': 30,
                'osteoarthritis': 31, 'rheumatoid': 32, 'gout': 33, 'injury': 34, 'sprain': 35,
                'dislocation': 36, 'fracture': 37, 'replacement': 38, 'surgery': 39, 'prosthetic': 40,
                'injection': 41, 'aspiration': 42, 'steroid': 43, 'hyaluronic': 44, 'prp': 45,
                'physical': 46, 'therapy': 47, 'exercise': 48, 'stretch': 49, 'strengthen': 50,
                'swollen': 55, 'red': 60, 'warm': 65, 'tender': 70, 'limited': 75,
                'mobility': 80, 'function': 85, 'disability': 90, 'chronic': 95, 'acute': 100,
                'lupus': 150, 'vasculitis': 200, 'scleroderma': 250, 'fibromyalgia': 180,
                'autoimmune': 120, 'diagnosis': 300, 'treatment': 350, 'prednisone': 400,
                'doctor': 450, 'clinic': 500, 'hospital': 550, 'rounds': 600,
                'tired': 650, 'coffee': 700, 'pager': 800, 'charting': 850,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'cartilage': {
                'cartilage': 1, 'joint': 2, 'bone': 3, 'cushion': 4, 'smooth': 5,
                'surface': 6, 'articular': 7, 'hyaline': 8, 'fibrocartilage': 9, 'elastic': 10,
                'chondrocyte': 11, 'collagen': 12, 'proteoglycan': 13, 'matrix': 14, 'tissue': 15,
                'knee': 16, 'meniscus': 17, 'hip': 18, 'shoulder': 19, 'wear': 20,
                'tear': 21, 'damage': 22, 'degeneration': 23, 'osteoarthritis': 24, 'erosion': 25,
                'loss': 26, 'thin': 27, 'repair': 28, 'regeneration': 29, 'transplant': 30,
                'microfracture': 31, 'surgery': 32, 'arthroscopy': 33, 'mri': 34, 'imaging': 35,
                'injection': 36, 'hyaluronic': 37, 'acid': 38, 'viscosupplementation': 39, 'prp': 40,
                'stem': 41, 'cell': 42, 'therapy': 43, 'physical': 44, 'exercise': 45,
                'strength': 46, 'flexibility': 47, 'motion': 48, 'range': 49, 'movement': 50,
                'synovium': 55, 'tendon': 60, 'ligament': 65, 'muscle': 70, 'inflammation': 75,
                'arthritis': 80, 'pain': 85, 'swelling': 90, 'stiffness': 95, 'cracking': 100,
                'lupus': 200, 'gout': 250, 'rheumatoid': 150, 'autoimmune': 180,
                'diagnosis': 300, 'treatment': 350, 'prednisone': 400, 'methotrexate': 450,
                'doctor': 500, 'clinic': 550, 'hospital': 600, 'rounds': 650,
                'tired': 700, 'coffee': 750, 'pager': 850, 'charting': 900,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'synovium': {
                'synovium': 1, 'synovial': 2, 'membrane': 3, 'joint': 4, 'fluid': 5,
                'lining': 6, 'capsule': 7, 'lubrication': 8, 'nutrition': 9, 'cartilage': 10,
                'inflammation': 11, 'synovitis': 12, 'pannus': 13, 'rheumatoid': 14, 'arthritis': 15,
                'swelling': 16, 'thickening': 17, 'hypertrophy': 18, 'erosion': 19, 'bone': 20,
                'damage': 21, 'destruction': 22, 'autoimmune': 23, 'attack': 24, 'immune': 25,
                'cell': 26, 'cytokine': 27, 'tnf': 28, 'interleukin': 29, 'prostaglandin': 30,
                'aspiration': 31, 'analysis': 32, 'crystal': 33, 'culture': 34, 'biopsy': 35,
                'treatment': 36, 'dmard': 37, 'biologic': 38, 'steroid': 39, 'injection': 40,
                'methotrexate': 41, 'humira': 42, 'enbrel': 43, 'remicade': 44, 'infusion': 45,
                'prednisone': 46, 'nsaid': 47, 'pain': 48, 'management': 49, 'therapy': 50,
                'tendon': 55, 'ligament': 60, 'muscle': 65, 'knee': 70, 'hip': 75,
                'shoulder': 80, 'wrist': 85, 'ankle': 90, 'finger': 95, 'toe': 100,
                'lupus': 150, 'gout': 180, 'vasculitis': 200, 'scleroderma': 250,
                'diagnosis': 300, 'doctor': 350, 'clinic': 400, 'hospital': 450,
                'tired': 550, 'coffee': 600, 'pager': 700, 'rounds': 750,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'tendon': {
                'tendon': 1, 'muscle': 2, 'bone': 3, 'attachment': 4, 'collagen': 5,
                'fiber': 6, 'connective': 7, 'tissue': 8, 'tendinitis': 9, 'tendinopathy': 10,
                'inflammation': 11, 'pain': 12, 'strain': 13, 'tear': 14, 'rupture': 15,
                'achilles': 16, 'rotator': 17, 'cuff': 18, 'patellar': 19, 'biceps': 20,
                'elbow': 21, 'tennis': 22, 'golfer': 23, 'epicondylitis': 24, 'wrist': 25,
                'ankle': 26, 'shoulder': 27, 'knee': 28, 'foot': 29, 'hand': 30,
                'sheath': 31, 'tenosynovitis': 32, 'trigger': 33, 'finger': 34, 'dequervain': 35,
                'injection': 36, 'steroid': 37, 'cortisone': 38, 'prp': 39, 'surgery': 40,
                'repair': 41, 'physical': 42, 'therapy': 43, 'stretch': 44, 'exercise': 45,
                'strengthen': 46, 'eccentric': 47, 'rest': 48, 'ice': 49, 'brace': 50,
                'joint': 55, 'cartilage': 60, 'ligament': 65, 'synovium': 70, 'movement': 75,
                'flexibility': 80, 'range': 85, 'motion': 90, 'stiffness': 95, 'swelling': 100,
                'arthritis': 150, 'lupus': 250, 'gout': 300, 'vasculitis': 350,
                'diagnosis': 400, 'treatment': 200, 'prednisone': 180, 'doctor': 450,
                'clinic': 500, 'hospital': 550, 'rounds': 600, 'charting': 650,
                'tired': 700, 'coffee': 750, 'pager': 850, 'swollen': 120,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'bone': {
                'bone': 1, 'skeleton': 2, 'osseous': 3, 'calcium': 4, 'mineral': 5,
                'collagen': 6, 'osteocyte': 7, 'osteoblast': 8, 'osteoclast': 9, 'marrow': 10,
                'cortical': 11, 'trabecular': 12, 'cancellous': 13, 'density': 14, 'osteoporosis': 15,
                'fracture': 16, 'break': 17, 'healing': 18, 'callus': 19, 'remodeling': 20,
                'joint': 21, 'cartilage': 22, 'tendon': 23, 'ligament': 24, 'muscle': 25,
                'spine': 26, 'vertebra': 27, 'femur': 28, 'tibia': 29, 'humerus': 30,
                'radius': 31, 'ulna': 32, 'pelvis': 33, 'skull': 34, 'rib': 35,
                'xray': 36, 'dexa': 37, 'scan': 38, 'mri': 39, 'ct': 40,
                'bisphosphonate': 41, 'alendronate': 42, 'fosamax': 43, 'prolia': 44, 'forteo': 45,
                'vitamin': 46, 'd': 47, 'supplement': 48, 'exercise': 49, 'weight': 50,
                'synovium': 55, 'inflammation': 60, 'erosion': 65, 'destruction': 70, 'damage': 75,
                'arthritis': 80, 'rheumatoid': 85, 'osteoarthritis': 90, 'pain': 95, 'ache': 100,
                'lupus': 200, 'gout': 250, 'vasculitis': 300, 'scleroderma': 350,
                'prednisone': 150, 'steroid': 160, 'diagnosis': 400, 'treatment': 180,
                'doctor': 450, 'clinic': 500, 'hospital': 550, 'rounds': 600,
                'tired': 700, 'coffee': 750, 'pager': 850, 'charting': 900,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'prednisone': {
                'prednisone': 1, 'steroid': 2, 'corticosteroid': 3, 'glucocorticoid': 4, 'prednisolone': 5,
                'methylprednisolone': 6, 'medrol': 7, 'solumedrol': 8, 'dexamethasone': 9, 'hydrocortisone': 10,
                'cortisone': 11, 'anti': 12, 'inflammatory': 13, 'immunosuppressive': 14, 'dose': 15,
                'taper': 16, 'burst': 17, 'pulse': 18, 'high': 19, 'low': 20,
                'mg': 21, 'pill': 22, 'tablet': 23, 'oral': 24, 'iv': 25,
                'side': 26, 'effect': 27, 'weight': 28, 'gain': 29, 'moon': 30,
                'face': 31, 'buffalo': 32, 'hump': 33, 'diabetes': 34, 'glucose': 35,
                'osteoporosis': 36, 'bone': 37, 'loss': 38, 'infection': 39, 'risk': 40,
                'insomnia': 41, 'mood': 42, 'swing': 43, 'anxiety': 44, 'cataracts': 45,
                'glaucoma': 46, 'adrenal': 47, 'suppression': 48, 'withdrawal': 49, 'taper': 50,
                'lupus': 55, 'arthritis': 60, 'vasculitis': 65, 'inflammation': 70, 'flare': 75,
                'treatment': 80, 'medication': 85, 'drug': 90, 'prescription': 95, 'doctor': 100,
                'methotrexate': 120, 'humira': 150, 'infusion': 180, 'injection': 130,
                'joint': 200, 'pain': 110, 'swelling': 115, 'autoimmune': 90,
                'clinic': 300, 'hospital': 350, 'rounds': 400, 'charting': 450,
                'tired': 250, 'coffee': 500, 'pager': 550, 'diagnosis': 160,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'methotrexate': {
                'methotrexate': 1, 'mtx': 2, 'dmard': 3, 'disease': 4, 'modifying': 5,
                'antirheumatic': 6, 'drug': 7, 'immunosuppressant': 8, 'folic': 9, 'acid': 10,
                'folate': 11, 'weekly': 12, 'dose': 13, 'tablet': 14, 'injection': 15,
                'subcutaneous': 16, 'oral': 17, 'mg': 18, 'rheumatoid': 19, 'arthritis': 20,
                'psoriatic': 21, 'lupus': 22, 'vasculitis': 23, 'treatment': 24, 'first': 25,
                'line': 26, 'anchor': 27, 'combination': 28, 'biologic': 29, 'humira': 30,
                'enbrel': 31, 'remicade': 32, 'efficacy': 33, 'response': 34, 'remission': 35,
                'side': 36, 'effect': 37, 'nausea': 38, 'liver': 39, 'toxicity': 40,
                'blood': 41, 'count': 42, 'monitoring': 43, 'lab': 44, 'test': 45,
                'pregnancy': 46, 'contraindicated': 47, 'teratogenic': 48, 'alcohol': 49, 'avoid': 50,
                'prednisone': 55, 'steroid': 60, 'inflammation': 65, 'joint': 70, 'pain': 75,
                'swelling': 80, 'stiffness': 85, 'autoimmune': 90, 'immune': 95, 'system': 100,
                'infusion': 150, 'clinic': 200, 'hospital': 250, 'doctor': 180,
                'diagnosis': 300, 'bone': 350, 'cartilage': 400, 'tendon': 450,
                'tired': 500, 'coffee': 550, 'pager': 600, 'rounds': 650,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'humira': {
                'humira': 1, 'adalimumab': 2, 'biologic': 3, 'tnf': 4, 'inhibitor': 5,
                'anti': 6, 'tumor': 7, 'necrosis': 8, 'factor': 9, 'monoclonal': 10,
                'antibody': 11, 'injection': 12, 'subcutaneous': 13, 'pen': 14, 'syringe': 15,
                'biweekly': 16, 'every': 17, 'two': 18, 'weeks': 19, 'refrigerate': 20,
                'rheumatoid': 21, 'arthritis': 22, 'psoriatic': 23, 'ankylosing': 24, 'spondylitis': 25,
                'crohn': 26, 'colitis': 27, 'psoriasis': 28, 'uveitis': 29, 'hidradenitis': 30,
                'biosimilar': 31, 'hadlima': 32, 'hyrimoz': 33, 'cyltezo': 34, 'amjevita': 35,
                'enbrel': 36, 'remicade': 37, 'simponi': 38, 'cimzia': 39, 'biologic': 40,
                'dmard': 41, 'methotrexate': 42, 'combination': 43, 'therapy': 44, 'efficacy': 45,
                'remission': 46, 'response': 47, 'treatment': 48, 'failure': 49, 'switch': 50,
                'infection': 55, 'risk': 60, 'tb': 65, 'tuberculosis': 70, 'screening': 75,
                'hepatitis': 80, 'side': 85, 'effect': 90, 'reaction': 95, 'site': 100,
                'prednisone': 150, 'steroid': 180, 'infusion': 120, 'lupus': 200,
                'joint': 250, 'inflammation': 130, 'autoimmune': 110, 'pain': 160,
                'doctor': 300, 'clinic': 350, 'hospital': 400, 'rounds': 450,
                'tired': 500, 'coffee': 550, 'pager': 600, 'charting': 650,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'infusion': {
                'infusion': 1, 'iv': 2, 'intravenous': 3, 'drip': 4, 'bag': 5,
                'saline': 6, 'pump': 7, 'line': 8, 'catheter': 9, 'port': 10,
                'center': 11, 'chair': 12, 'suite': 13, 'nurse': 14, 'monitor': 15,
                'rate': 16, 'slow': 17, 'fast': 18, 'hour': 19, 'duration': 20,
                'remicade': 21, 'infliximab': 22, 'rituxan': 23, 'rituximab': 24, 'orencia': 25,
                'abatacept': 26, 'actemra': 27, 'tocilizumab': 28, 'benlysta': 29, 'belimumab': 30,
                'biologic': 31, 'medication': 32, 'treatment': 33, 'therapy': 34, 'rheumatoid': 35,
                'arthritis': 36, 'lupus': 37, 'vasculitis': 38, 'autoimmune': 39, 'disease': 40,
                'reaction': 41, 'allergic': 42, 'premedication': 43, 'benadryl': 44, 'tylenol': 45,
                'steroid': 46, 'prednisone': 47, 'solumedrol': 48, 'side': 49, 'effect': 50,
                'injection': 55, 'humira': 60, 'enbrel': 65, 'methotrexate': 70, 'dmard': 75,
                'joint': 100, 'inflammation': 80, 'pain': 90, 'swelling': 95, 'flare': 85,
                'doctor': 150, 'clinic': 120, 'hospital': 130, 'appointment': 140,
                'rounds': 200, 'charting': 250, 'pager': 300, 'tired': 350,
                'coffee': 400, 'bone': 450, 'cartilage': 500, 'tendon': 550,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'steroid': {
                'steroid': 1, 'corticosteroid': 2, 'glucocorticoid': 3, 'prednisone': 4, 'prednisolone': 5,
                'methylprednisolone': 6, 'dexamethasone': 7, 'hydrocortisone': 8, 'cortisone': 9, 'medrol': 10,
                'solumedrol': 11, 'anti': 12, 'inflammatory': 13, 'immunosuppressive': 14, 'hormone': 15,
                'adrenal': 16, 'cortex': 17, 'cortisol': 18, 'dose': 19, 'taper': 20,
                'burst': 21, 'pulse': 22, 'high': 23, 'low': 24, 'mg': 25,
                'oral': 26, 'iv': 27, 'injection': 28, 'topical': 29, 'inhaled': 30,
                'side': 31, 'effect': 32, 'weight': 33, 'gain': 34, 'moon': 35,
                'face': 36, 'diabetes': 37, 'osteoporosis': 38, 'infection': 39, 'risk': 40,
                'insomnia': 41, 'mood': 42, 'cataracts': 43, 'glaucoma': 44, 'thin': 45,
                'skin': 46, 'bruising': 47, 'adrenal': 48, 'suppression': 49, 'withdrawal': 50,
                'inflammation': 55, 'lupus': 60, 'arthritis': 65, 'vasculitis': 70, 'flare': 75,
                'treatment': 80, 'medication': 85, 'drug': 90, 'prescription': 95, 'doctor': 100,
                'methotrexate': 120, 'humira': 150, 'infusion': 130, 'biologic': 140,
                'joint': 180, 'pain': 110, 'swelling': 115, 'autoimmune': 105,
                'clinic': 250, 'hospital': 300, 'rounds': 350, 'charting': 400,
                'tired': 200, 'coffee': 450, 'pager': 500, 'bone': 160,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'antibody': {
                'antibody': 1, 'immunoglobulin': 2, 'ig': 3, 'igg': 4, 'igm': 5,
                'iga': 6, 'ige': 7, 'protein': 8, 'immune': 9, 'system': 10,
                'b': 11, 'cell': 12, 'plasma': 13, 'antigen': 14, 'binding': 15,
                'specific': 16, 'response': 17, 'autoantibody': 18, 'ana': 19, 'antinuclear': 20,
                'dsdna': 21, 'smith': 22, 'rnp': 23, 'ssa': 24, 'ssb': 25,
                'anca': 26, 'rf': 27, 'rheumatoid': 28, 'factor': 29, 'ccp': 30,
                'anti': 31, 'citrullinated': 32, 'peptide': 33, 'lupus': 34, 'arthritis': 35,
                'vasculitis': 36, 'sjogren': 37, 'scleroderma': 38, 'myositis': 39, 'autoimmune': 40,
                'test': 41, 'blood': 42, 'lab': 43, 'titer': 44, 'positive': 45,
                'negative': 46, 'diagnosis': 47, 'marker': 48, 'disease': 49, 'activity': 50,
                'monoclonal': 55, 'biologic': 60, 'humira': 65, 'rituximab': 70, 'infusion': 75,
                'treatment': 80, 'therapy': 85, 'target': 90, 'inflammation': 95, 'joint': 100,
                'prednisone': 150, 'methotrexate': 180, 'steroid': 200, 'bone': 250,
                'cartilage': 300, 'tendon': 350, 'synovium': 120, 'doctor': 400,
                'clinic': 450, 'hospital': 500, 'rounds': 550, 'charting': 600,
                'tired': 650, 'coffee': 700, 'pager': 750, 'biopsy': 110,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'inflammation': {
                'inflammation': 1, 'inflammatory': 2, 'swelling': 3, 'redness': 4, 'heat': 5,
                'pain': 6, 'loss': 7, 'function': 8, 'acute': 9, 'chronic': 10,
                'cytokine': 11, 'tnf': 12, 'interleukin': 13, 'il6': 14, 'il1': 15,
                'prostaglandin': 16, 'leukotriene': 17, 'histamine': 18, 'mediator': 19, 'cascade': 20,
                'immune': 21, 'response': 22, 'neutrophil': 23, 'macrophage': 24, 'lymphocyte': 25,
                'autoimmune': 26, 'arthritis': 27, 'lupus': 28, 'vasculitis': 29, 'ibd': 30,
                'crp': 31, 'esr': 32, 'sed': 33, 'rate': 34, 'marker': 35,
                'elevated': 36, 'blood': 37, 'test': 38, 'lab': 39, 'diagnosis': 40,
                'treatment': 41, 'anti': 42, 'nsaid': 43, 'steroid': 44, 'prednisone': 45,
                'biologic': 46, 'dmard': 47, 'methotrexate': 48, 'humira': 49, 'infusion': 50,
                'joint': 55, 'synovitis': 60, 'tendinitis': 65, 'bursitis': 70, 'myositis': 75,
                'swollen': 80, 'red': 85, 'warm': 90, 'tender': 95, 'stiff': 100,
                'bone': 150, 'cartilage': 180, 'tendon': 200, 'synovium': 120,
                'doctor': 250, 'clinic': 300, 'hospital': 350, 'rounds': 400,
                'tired': 450, 'coffee': 500, 'pager': 550, 'charting': 600,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'autoimmune': {
                'autoimmune': 1, 'immune': 2, 'system': 3, 'self': 4, 'attack': 5,
                'antibody': 6, 'autoantibody': 7, 't': 8, 'cell': 9, 'b': 10,
                'lymphocyte': 11, 'tolerance': 12, 'loss': 13, 'dysregulation': 14, 'inflammation': 15,
                'disease': 16, 'disorder': 17, 'lupus': 18, 'rheumatoid': 19, 'arthritis': 20,
                'sjogren': 21, 'scleroderma': 22, 'vasculitis': 23, 'myositis': 24, 'thyroid': 25,
                'hashimoto': 26, 'graves': 27, 'ms': 28, 'multiple': 29, 'sclerosis': 30,
                'type1': 31, 'diabetes': 32, 'celiac': 33, 'crohn': 34, 'colitis': 35,
                'psoriasis': 36, 'vitiligo': 37, 'alopecia': 38, 'chronic': 39, 'flare': 40,
                'remission': 41, 'treatment': 42, 'immunosuppressant': 43, 'prednisone': 44, 'steroid': 45,
                'methotrexate': 46, 'biologic': 47, 'humira': 48, 'rituximab': 49, 'infusion': 50,
                'diagnosis': 55, 'ana': 60, 'blood': 65, 'test': 70, 'marker': 75,
                'joint': 80, 'pain': 85, 'swelling': 90, 'fatigue': 95, 'fever': 100,
                'bone': 150, 'cartilage': 180, 'tendon': 200, 'synovium': 130,
                'doctor': 250, 'clinic': 300, 'hospital': 350, 'rounds': 400,
                'tired': 120, 'coffee': 450, 'pager': 500, 'charting': 550,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'biopsy': {
                'biopsy': 1, 'tissue': 2, 'sample': 3, 'specimen': 4, 'pathology': 5,
                'histology': 6, 'microscope': 7, 'examination': 8, 'diagnosis': 9, 'procedure': 10,
                'needle': 11, 'core': 12, 'punch': 13, 'excisional': 14, 'incisional': 15,
                'skin': 16, 'kidney': 17, 'renal': 18, 'liver': 19, 'lung': 20,
                'muscle': 21, 'nerve': 22, 'temporal': 23, 'artery': 24, 'salivary': 25,
                'gland': 26, 'lip': 27, 'bone': 28, 'marrow': 29, 'lymph': 30,
                'node': 31, 'synovial': 32, 'joint': 33, 'vasculitis': 34, 'lupus': 35,
                'nephritis': 36, 'sjogren': 37, 'sarcoidosis': 38, 'amyloidosis': 39, 'cancer': 40,
                'inflammation': 41, 'fibrosis': 42, 'granuloma': 43, 'necrosis': 44, 'infiltrate': 45,
                'stain': 46, 'immunofluorescence': 47, 'electron': 48, 'microscopy': 49, 'report': 50,
                'pathologist': 55, 'results': 60, 'findings': 65, 'abnormal': 70, 'normal': 75,
                'doctor': 80, 'specialist': 85, 'rheumatologist': 90, 'treatment': 95, 'plan': 100,
                'arthritis': 150, 'autoimmune': 120, 'antibody': 130, 'prednisone': 200,
                'methotrexate': 250, 'infusion': 300, 'steroid': 220, 'clinic': 350,
                'hospital': 400, 'rounds': 450, 'charting': 500, 'pager': 550,
                'tired': 600, 'coffee': 650, 'cartilage': 180, 'tendon': 280,
                'car': 1200, 'phone': 1300, 'computer': 1400, 'house': 1500
            },
            'clinic': {
                'clinic': 1, 'office': 2, 'appointment': 3, 'visit': 4, 'patient': 5,
                'doctor': 6, 'physician': 7, 'nurse': 8, 'staff': 9, 'receptionist': 10,
                'waiting': 11, 'room': 12, 'exam': 13, 'consultation': 14, 'follow': 15,
                'up': 16, 'new': 17, 'established': 18, 'schedule': 19, 'calendar': 20,
                'morning': 21, 'afternoon': 22, 'session': 23, 'outpatient': 24, 'ambulatory': 25,
                'rheumatology': 26, 'specialty': 27, 'subspecialty': 28, 'referral': 29, 'primary': 30,
                'care': 31, 'provider': 32, 'treatment': 33, 'diagnosis': 34, 'evaluation': 35,
                'assessment': 36, 'history': 37, 'physical': 38, 'examination': 39, 'lab': 40,
                'test': 41, 'imaging': 42, 'xray': 43, 'ultrasound': 44, 'injection': 45,
                'infusion': 46, 'procedure': 47, 'prescription': 48, 'medication': 49, 'education': 50,
                'hospital': 55, 'rounds': 60, 'charting': 65, 'note': 70, 'documentation': 75,
                'emr': 80, 'epic': 85, 'pager': 90, 'phone': 95, 'call': 100,
                'lupus': 150, 'arthritis': 180, 'joint': 200, 'inflammation': 220,
                'prednisone': 250, 'methotrexate': 280, 'humira': 300, 'steroid': 270,
                'tired': 120, 'coffee': 110, 'bone': 350, 'cartilage': 400,
                'car': 1200, 'computer': 500, 'house': 1500, 'autoimmune': 250
            },
            'rounds': {
                'rounds': 1, 'ward': 2, 'hospital': 3, 'inpatient': 4, 'team': 5,
                'attending': 6, 'fellow': 7, 'resident': 8, 'intern': 9, 'student': 10,
                'medical': 11, 'morning': 12, 'daily': 13, 'bedside': 14, 'teaching': 15,
                'presentation': 16, 'case': 17, 'discussion': 18, 'plan': 19, 'assessment': 20,
                'patient': 21, 'room': 22, 'visit': 23, 'examination': 24, 'history': 25,
                'physical': 26, 'labs': 27, 'imaging': 28, 'vitals': 29, 'overnight': 30,
                'events': 31, 'consult': 32, 'consultation': 33, 'rheumatology': 34, 'service': 35,
                'admission': 36, 'discharge': 37, 'transfer': 38, 'icu': 39, 'floor': 40,
                'note': 41, 'documentation': 42, 'charting': 43, 'orders': 44, 'medication': 45,
                'treatment': 46, 'diagnosis': 47, 'differential': 48, 'workup': 49, 'prognosis': 50,
                'clinic': 55, 'outpatient': 60, 'pager': 65, 'call': 70, 'night': 75,
                'shift': 80, 'schedule': 85, 'coverage': 90, 'handoff': 95, 'signout': 100,
                'lupus': 200, 'arthritis': 250, 'vasculitis': 280, 'inflammation': 300,
                'prednisone': 180, 'methotrexate': 220, 'infusion': 150, 'steroid': 190,
                'tired': 110, 'coffee': 105, 'joint': 350, 'bone': 400,
                'car': 1200, 'phone': 800, 'computer': 500, 'house': 1500
            },
            'pager': {
                'pager': 1, 'beep': 2, 'page': 3, 'call': 4, 'number': 5,
                'callback': 6, 'urgent': 7, 'stat': 8, 'emergency': 9, 'notification': 10,
                'hospital': 11, 'doctor': 12, 'physician': 13, 'resident': 14, 'intern': 15,
                'fellow': 16, 'attending': 17, 'nurse': 18, 'floor': 19, 'ward': 20,
                'consult': 21, 'consultation': 22, 'admission': 23, 'patient': 24, 'question': 25,
                'order': 26, 'medication': 27, 'lab': 28, 'result': 29, 'critical': 30,
                'value': 31, 'abnormal': 32, 'communication': 33, 'device': 34, 'electronic': 35,
                'battery': 36, 'clip': 37, 'belt': 38, 'pocket': 39, 'scrubs': 40,
                'coat': 41, 'white': 42, 'oncall': 43, 'night': 44, 'shift': 45,
                'coverage': 46, 'schedule': 47, 'rotation': 48, 'service': 49, 'duty': 50,
                'rounds': 55, 'clinic': 60, 'charting': 65, 'note': 70, 'documentation': 75,
                'tired': 80, 'coffee': 85, 'sleep': 90, 'rest': 95, 'break': 100,
                'lupus': 300, 'arthritis': 350, 'joint': 400, 'inflammation': 280,
                'prednisone': 250, 'methotrexate': 320, 'infusion': 200, 'steroid': 260,
                'diagnosis': 180, 'treatment': 190, 'bone': 450, 'cartilage': 500,
                'car': 1200, 'phone': 120, 'computer': 400, 'house': 1500
            },
            'charting': {
                'charting': 1, 'documentation': 2, 'note': 3, 'record': 4, 'emr': 5,
                'ehr': 6, 'epic': 7, 'cerner': 8, 'electronic': 9, 'medical': 10,
                'health': 11, 'progress': 12, 'assessment': 13, 'plan': 14, 'soap': 15,
                'subjective': 16, 'objective': 17, 'hpi': 18, 'history': 19, 'present': 20,
                'illness': 21, 'ros': 22, 'review': 23, 'systems': 24, 'physical': 25,
                'exam': 26, 'labs': 27, 'imaging': 28, 'diagnosis': 29, 'treatment': 30,
                'medication': 31, 'prescription': 32, 'order': 33, 'referral': 34, 'follow': 35,
                'up': 36, 'patient': 37, 'encounter': 38, 'visit': 39, 'clinic': 40,
                'hospital': 41, 'inpatient': 42, 'outpatient': 43, 'admission': 44, 'discharge': 45,
                'summary': 46, 'letter': 47, 'billing': 48, 'coding': 49, 'compliance': 50,
                'rounds': 55, 'pager': 60, 'tired': 65, 'coffee': 70, 'time': 75,
                'hours': 80, 'overtime': 85, 'work': 90, 'computer': 95, 'typing': 100,
                'lupus': 250, 'arthritis': 300, 'joint': 350, 'inflammation': 280,
                'prednisone': 200, 'methotrexate': 220, 'infusion': 180, 'steroid': 210,
                'doctor': 120, 'nurse': 130, 'bone': 400, 'cartilage': 450,
                'car': 1200, 'phone': 500, 'house': 1500, 'autoimmune': 320
            },
            'diagnosis': {
                'diagnosis': 1, 'diagnose': 2, 'diagnostic': 3, 'workup': 4, 'evaluation': 5,
                'assessment': 6, 'clinical': 7, 'criteria': 8, 'differential': 9, 'ddx': 10,
                'rule': 11, 'out': 12, 'confirm': 13, 'exclude': 14, 'definitive': 15,
                'presumptive': 16, 'provisional': 17, 'working': 18, 'final': 19, 'disease': 20,
                'condition': 21, 'disorder': 22, 'syndrome': 23, 'symptoms': 24, 'signs': 25,
                'history': 26, 'physical': 27, 'exam': 28, 'lab': 29, 'test': 30,
                'blood': 31, 'imaging': 32, 'xray': 33, 'mri': 34, 'ct': 35,
                'ultrasound': 36, 'biopsy': 37, 'pathology': 38, 'results': 39, 'findings': 40,
                'treatment': 41, 'plan': 42, 'prognosis': 43, 'outcome': 44, 'management': 45,
                'patient': 46, 'doctor': 47, 'physician': 48, 'specialist': 49, 'rheumatologist': 50,
                'lupus': 55, 'arthritis': 60, 'gout': 65, 'vasculitis': 70, 'scleroderma': 75,
                'autoimmune': 80, 'inflammation': 85, 'joint': 90, 'pain': 95, 'swelling': 100,
                'prednisone': 150, 'methotrexate': 180, 'humira': 200, 'steroid': 160,
                'clinic': 120, 'hospital': 130, 'rounds': 140, 'charting': 145,
                'tired': 250, 'coffee': 300, 'pager': 220, 'bone': 350,
                'car': 1200, 'phone': 800, 'computer': 600, 'house': 1500
            },
            'coffee': {
                'coffee': 1, 'caffeine': 2, 'espresso': 3, 'latte': 4, 'cappuccino': 5,
                'americano': 6, 'mocha': 7, 'brew': 8, 'drip': 9, 'bean': 10,
                'roast': 11, 'ground': 12, 'cup': 13, 'mug': 14, 'drink': 15,
                'beverage': 16, 'hot': 17, 'iced': 18, 'cold': 19, 'morning': 20,
                'wake': 21, 'energy': 22, 'boost': 23, 'alert': 24, 'awake': 25,
                'tired': 26, 'fatigue': 27, 'exhausted': 28, 'sleepy': 29, 'drowsy': 30,
                'break': 31, 'room': 32, 'lounge': 33, 'cafeteria': 34, 'hospital': 35,
                'clinic': 36, 'doctor': 37, 'nurse': 38, 'resident': 39, 'intern': 40,
                'rounds': 41, 'shift': 42, 'night': 43, 'oncall': 44, 'pager': 45,
                'work': 46, 'long': 47, 'hours': 48, 'charting': 49, 'documentation': 50,
                'tea': 55, 'water': 60, 'soda': 65, 'snack': 70, 'food': 75,
                'lunch': 80, 'breakfast': 85, 'dinner': 90, 'meal': 95, 'eat': 100,
                'lupus': 400, 'arthritis': 450, 'joint': 500, 'inflammation': 380,
                'prednisone': 350, 'methotrexate': 420, 'infusion': 300, 'steroid': 360,
                'diagnosis': 320, 'treatment': 340, 'bone': 550, 'cartilage': 600,
                'car': 800, 'phone': 700, 'computer': 500, 'house': 900
            },
            'tired': {
                'tired': 1, 'fatigue': 2, 'exhausted': 3, 'weary': 4, 'drained': 5,
                'sleepy': 6, 'drowsy': 7, 'worn': 8, 'out': 9, 'burnt': 10,
                'burnout': 11, 'stress': 12, 'overworked': 13, 'sleep': 14, 'deprived': 15,
                'insomnia': 16, 'rest': 17, 'nap': 18, 'energy': 19, 'low': 20,
                'coffee': 21, 'caffeine': 22, 'morning': 23, 'night': 24, 'shift': 25,
                'oncall': 26, 'pager': 27, 'hospital': 28, 'rounds': 29, 'clinic': 30,
                'doctor': 31, 'resident': 32, 'intern': 33, 'fellow': 34, 'attending': 35,
                'work': 36, 'hours': 37, 'long': 38, 'overtime': 39, 'schedule': 40,
                'charting': 41, 'documentation': 42, 'patient': 43, 'care': 44, 'demanding': 45,
                'difficult': 46, 'challenging': 47, 'busy': 48, 'hectic': 49, 'crazy': 50,
                'lupus': 100, 'fibromyalgia': 80, 'chronic': 55, 'fatigue': 2, 'syndrome': 60,
                'autoimmune': 90, 'inflammation': 120, 'disease': 130, 'symptom': 70, 'flare': 85,
                'arthritis': 200, 'joint': 250, 'pain': 150, 'muscle': 180, 'ache': 160,
                'prednisone': 300, 'steroid': 320, 'treatment': 280, 'medication': 290,
                'bone': 400, 'cartilage': 450, 'tendon': 380, 'diagnosis': 260,
                'car': 800, 'phone': 500, 'computer': 450, 'house': 900
            },
            'swollen': {
                'swollen': 1, 'swelling': 2, 'edema': 3, 'puffy': 4, 'bloated': 5,
                'inflamed': 6, 'enlarged': 7, 'distended': 8, 'fluid': 9, 'retention': 10,
                'joint': 11, 'knee': 12, 'ankle': 13, 'wrist': 14, 'finger': 15,
                'toe': 16, 'hand': 17, 'foot': 18, 'leg': 19, 'arm': 20,
                'arthritis': 21, 'inflammation': 22, 'synovitis': 23, 'effusion': 24, 'bursitis': 25,
                'tendinitis': 26, 'gout': 27, 'infection': 28, 'cellulitis': 29, 'injury': 30,
                'trauma': 31, 'sprain': 32, 'fracture': 33, 'red': 34, 'warm': 35,
                'hot': 36, 'painful': 37, 'tender': 38, 'stiff': 39, 'limited': 40,
                'movement': 41, 'range': 42, 'motion': 43, 'aspiration': 44, 'injection': 45,
                'steroid': 46, 'nsaid': 47, 'ice': 48, 'elevation': 49, 'compression': 50,
                'lupus': 80, 'vasculitis': 100, 'scleroderma': 120, 'rheumatoid': 60,
                'prednisone': 70, 'methotrexate': 150, 'humira': 180, 'infusion': 160,
                'diagnosis': 200, 'treatment': 90, 'doctor': 220, 'clinic': 250,
                'rounds': 300, 'charting': 350, 'pager': 280, 'tired': 400,
                'coffee': 450, 'bone': 140, 'cartilage': 130, 'tendon': 110,
                'car': 1200, 'phone': 800, 'computer': 900, 'house': 1100
            }
        };

        // Common words fallback for unrecognized words
        const commonWords = [
            'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i',
            'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you', 'do', 'at',
            'this', 'but', 'his', 'by', 'from', 'they', 'we', 'say', 'her', 'she',
            'or', 'an', 'will', 'my', 'one', 'all', 'would', 'there', 'their', 'what',
            'so', 'up', 'out', 'if', 'about', 'who', 'get', 'which', 'go', 'me',
            'when', 'make', 'can', 'like', 'time', 'no', 'just', 'him', 'know', 'take',
            'people', 'into', 'year', 'your', 'good', 'some', 'could', 'them', 'see', 'other',
            'than', 'then', 'now', 'look', 'only', 'come', 'its', 'over', 'think', 'also',
            'back', 'after', 'use', 'two', 'how', 'our', 'work', 'first', 'well', 'way',
            'even', 'new', 'want', 'because', 'any', 'these', 'give', 'day', 'most', 'us',
            'water', 'car', 'phone', 'computer', 'house', 'tree', 'book', 'happy', 'sad', 'big',
            'small', 'red', 'blue', 'green', 'yellow', 'food', 'eat', 'drink', 'run', 'walk',
            'sleep', 'talk', 'read', 'write', 'play', 'work', 'home', 'school', 'family', 'friend',
            'love', 'hate', 'help', 'need', 'try', 'call', 'feel', 'become', 'leave', 'put',
            'mean', 'keep', 'let', 'begin', 'seem', 'help', 'show', 'hear', 'play', 'run',
            'move', 'live', 'believe', 'hold', 'bring', 'happen', 'write', 'provide', 'sit', 'stand',
            'lose', 'pay', 'meet', 'include', 'continue', 'set', 'learn', 'change', 'lead', 'understand',
            'watch', 'follow', 'stop', 'create', 'speak', 'read', 'allow', 'add', 'spend', 'grow',
            'open', 'walk', 'win', 'offer', 'remember', 'consider', 'appear', 'buy', 'wait', 'serve',
            'die', 'send', 'expect', 'build', 'stay', 'fall', 'cut', 'reach', 'kill', 'remain'
        ];

        // ==================== GAME STATE ====================
        let gameState = {
            targetWord: '',
            targetIndex: 0,
            guesses: [],
            bestRank: Infinity,
            gameOver: false,
            gameWon: false,
            hardMode: false
        };

        let stats = {
            played: 0,
            won: 0,
            totalGuesses: 0,
            bestWin: Infinity,
            currentStreak: 0,
            maxStreak: 0
        };

        // ==================== INITIALIZATION ====================
        function init() {
            loadStats();
            loadSettings();
            startNewGame();
            setupEventListeners();
        }

        function startNewGame() {
            // Pick random target word
            gameState.targetIndex = Math.floor(Math.random() * targetWords.length);
            gameState.targetWord = targetWords[gameState.targetIndex];
            gameState.guesses = [];
            gameState.bestRank = Infinity;
            gameState.gameOver = false;
            gameState.gameWon = false;

            // Reset UI
            document.getElementById('historyList').innerHTML = '';
            document.getElementById('guessCount').textContent = 'Guesses: 0';
            document.getElementById('bestRank').textContent = 'Best: -';
            document.getElementById('meterValue').textContent = '-';
            document.getElementById('meterHint').textContent = 'Enter a word to begin';
            document.getElementById('meterIndicator').classList.remove('active');
            document.getElementById('guessInput').value = '';
            document.getElementById('guessInput').disabled = false;
            document.getElementById('submitBtn').disabled = false;
            document.getElementById('giveUpBtn').style.display = 'block';
            document.getElementById('errorMsg').textContent = '';

            // Reset joint diagram
            updateJointDiagram(Infinity);

            // Close any open modals
            closeAllModals();
        }

        function loadStats() {
            const saved = localStorage.getItem('rheumatexto_stats');
            if (saved) {
                stats = JSON.parse(saved);
            }
            updateStatsDisplay();
        }

        function saveStats() {
            localStorage.setItem('rheumatexto_stats', JSON.stringify(stats));
            updateStatsDisplay();
        }

        function loadSettings() {
            const lightMode = localStorage.getItem('rheumatexto_lightMode') === 'true';
            const hardMode = localStorage.getItem('rheumatexto_hardMode') === 'true';

            document.getElementById('lightModeToggle').checked = lightMode;
            document.getElementById('hardModeToggle').checked = hardMode;

            if (lightMode) {
                document.body.classList.add('light-mode');
            }
            gameState.hardMode = hardMode;
        }

        function saveSettings() {
            localStorage.setItem('rheumatexto_lightMode', document.getElementById('lightModeToggle').checked);
            localStorage.setItem('rheumatexto_hardMode', document.getElementById('hardModeToggle').checked);
        }

        // ==================== EVENT LISTENERS ====================
        function setupEventListeners() {
            // Submit guess
            document.getElementById('submitBtn').addEventListener('click', submitGuess);
            document.getElementById('guessInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') submitGuess();
            });

            // Modal buttons
            document.getElementById('helpBtn').addEventListener('click', () => openModal('helpModal'));
            document.getElementById('statsBtn').addEventListener('click', () => openModal('statsModal'));
            document.getElementById('settingsBtn').addEventListener('click', () => openModal('settingsModal'));

            // Settings toggles
            document.getElementById('lightModeToggle').addEventListener('change', (e) => {
                document.body.classList.toggle('light-mode', e.target.checked);
                saveSettings();
            });
            document.getElementById('hardModeToggle').addEventListener('change', (e) => {
                gameState.hardMode = e.target.checked;
                saveSettings();
            });

            // Give up
            document.getElementById('giveUpBtn').addEventListener('click', giveUp);

            // New game buttons
            document.getElementById('newGameBtn').addEventListener('click', () => {
                closeModal('winModal');
                startNewGame();
            });
            document.getElementById('newGameAfterGiveUp').addEventListener('click', () => {
                closeModal('giveUpModal');
                startNewGame();
            });

            // Share button
            document.getElementById('shareBtn').addEventListener('click', shareResult);

            // Close modals on overlay click
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) {
                        overlay.classList.remove('active');
                    }
                });
            });
        }

        // ==================== GAME LOGIC ====================
        function submitGuess() {
            if (gameState.gameOver) return;

            const input = document.getElementById('guessInput');
            const guess = input.value.trim().toLowerCase();

            if (!guess) return;

            // Check if already guessed
            if (gameState.guesses.find(g => g.word === guess)) {
                showError('Already guessed!');
                input.value = '';
                return;
            }

            // Get rank for this guess
            const rank = getWordRank(guess);

            if (rank === -1) {
                showError('Word not recognized');
                return;
            }

            // Clear error and input
            showError('');
            input.value = '';

            // Add guess
            const guessData = { word: guess, rank: rank };
            gameState.guesses.push(guessData);

            // Check if new best
            const isNewBest = rank < gameState.bestRank;
            if (isNewBest) {
                gameState.bestRank = rank;
            }

            // Update UI
            updateGuessDisplay(guessData, isNewBest);
            updateMeter(rank);
            updateJointDiagram(rank);
            updateGuessCount();

            // Check for win
            if (rank === 1) {
                handleWin();
            }
        }

        function getWordRank(word) {
            const rankings = wordRankings[gameState.targetWord];

            if (rankings[word] !== undefined) {
                return rankings[word];
            }

            // Check if it's a common word (give it a high rank)
            if (commonWords.includes(word)) {
                return 1500 + Math.floor(Math.random() * 500);
            }

            // Check if it's in any other target word's rankings
            for (const target of targetWords) {
                if (wordRankings[target][word] !== undefined) {
                    // Give it a modified rank based on semantic distance
                    return Math.min(2000, wordRankings[target][word] + 500);
                }
            }

            return -1; // Word not recognized
        }

        function updateGuessDisplay(guessData, isNewBest) {
            const historyList = document.getElementById('historyList');

            // Create new item
            const item = document.createElement('li');
            item.className = `history-item ${getRankClass(guessData.rank)}`;
            if (isNewBest && gameState.guesses.length > 1) {
                item.classList.add('new-best');
            }
            item.innerHTML = `
                <span class="history-word">${guessData.word}</span>
                <span class="history-rank">${guessData.rank}</span>
            `;

            // Sort guesses by rank
            const sortedGuesses = [...gameState.guesses].sort((a, b) => a.rank - b.rank);

            // Find position
            const position = sortedGuesses.findIndex(g => g.word === guessData.word);

            // Insert at correct position
            const existingItems = historyList.querySelectorAll('.history-item');
            if (position >= existingItems.length) {
                historyList.appendChild(item);
            } else {
                historyList.insertBefore(item, existingItems[position]);
            }

            // Update best rank display
            document.getElementById('bestRank').textContent = `Best: ${gameState.bestRank}`;
        }

        function getRankClass(rank) {
            if (rank <= 10) return 'rank-hot';
            if (rank <= 100) return 'rank-warm';
            if (rank <= 500) return 'rank-mild';
            if (rank <= 1000) return 'rank-cool';
            return 'rank-cold';
        }

        function updateMeter(rank) {
            const indicator = document.getElementById('meterIndicator');
            const valueEl = document.getElementById('meterValue');
            const hintEl = document.getElementById('meterHint');

            // Calculate position (inverse - lower rank = higher position)
            const maxRank = 2000;
            const position = Math.max(0, Math.min(100, (1 - rank / maxRank) * 100));

            indicator.style.left = `${position}%`;
            indicator.classList.add('active');

            // Update value with color
            valueEl.textContent = rank;
            valueEl.style.color = getRankColor(rank);

            // Update hint (unless hard mode)
            if (!gameState.hardMode) {
                hintEl.textContent = getHint(rank);
            } else {
                hintEl.textContent = '';
            }
        }

        function getRankColor(rank) {
            if (rank <= 10) return 'var(--accent-red)';
            if (rank <= 100) return 'var(--accent-orange)';
            if (rank <= 500) return 'var(--accent-yellow)';
            if (rank <= 1000) return 'var(--accent-blue)';
            return 'var(--accent-cold)';
        }

        function getHint(rank) {
            if (rank === 1) return 'üéâ DIAGNOSIS COMPLETE!';
            if (rank <= 5) return 'üî• ON FIRE! Almost there!';
            if (rank <= 10) return 'üî• Flaring! So close!';
            if (rank <= 20) return 'üò∞ You\'re close! Keep going!';
            if (rank <= 50) return 'üå°Ô∏è Getting warmer!';
            if (rank <= 100) return 'üëÄ Interesting... think related!';
            if (rank <= 300) return 'ü§î Lukewarm... try another angle';
            if (rank <= 500) return 'üòê Meh... keep thinking';
            if (rank <= 1000) return '‚ùÑÔ∏è Getting cold...';
            return 'ü•∂ Ice cold! Try something medical';
        }

        function updateJointDiagram(rank) {
            const joint = document.getElementById('jointDiagram');
            joint.classList.remove('inflamed-1', 'inflamed-2', 'inflamed-3', 'inflamed-4');

            if (rank <= 10) {
                joint.classList.add('inflamed-1');
            } else if (rank <= 100) {
                joint.classList.add('inflamed-2');
            } else if (rank <= 500) {
                joint.classList.add('inflamed-3');
            } else if (rank <= 1000) {
                joint.classList.add('inflamed-4');
            }
        }

        function updateGuessCount() {
            document.getElementById('guessCount').textContent = `Guesses: ${gameState.guesses.length}`;
        }

        function showError(msg) {
            document.getElementById('errorMsg').textContent = msg;
        }

        // ==================== WIN/LOSE ====================
        function handleWin() {
            gameState.gameOver = true;
            gameState.gameWon = true;

            // Update stats
            stats.played++;
            stats.won++;
            stats.totalGuesses += gameState.guesses.length;
            if (gameState.guesses.length < stats.bestWin) {
                stats.bestWin = gameState.guesses.length;
            }
            stats.currentStreak++;
            if (stats.currentStreak > stats.maxStreak) {
                stats.maxStreak = stats.currentStreak;
            }
            saveStats();

            // Disable input
            document.getElementById('guessInput').disabled = true;
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('giveUpBtn').style.display = 'none';

            // Show confetti
            createConfetti();

            // Show win modal after delay
            setTimeout(() => {
                document.getElementById('winWord').textContent = gameState.targetWord.toUpperCase();
                document.getElementById('winGuesses').textContent = gameState.guesses.length;
                createGuessVisualization();
                openModal('winModal');
            }, 1000);
        }

        function giveUp() {
            gameState.gameOver = true;
            gameState.gameWon = false;

            // Update stats
            stats.played++;
            stats.currentStreak = 0;
            saveStats();

            // Disable input
            document.getElementById('guessInput').disabled = true;
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('giveUpBtn').style.display = 'none';

            // Show reveal modal
            document.getElementById('revealWord').textContent = gameState.targetWord.toUpperCase();
            openModal('giveUpModal');
        }

        function createConfetti() {
            const colors = ['#e94560', '#ff6b35', '#f0c808', '#4da8da', '#7ec8e3', '#4caf50'];

            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = `${2 + Math.random() * 2}s`;
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 4000);
                }, i * 50);
            }
        }

        function createGuessVisualization() {
            const container = document.getElementById('guessVisualization');
            container.innerHTML = '';

            // Show last 20 guesses or all if fewer
            const recentGuesses = gameState.guesses.slice(-20);

            recentGuesses.forEach(guess => {
                const block = document.createElement('div');
                block.className = 'guess-block';

                if (guess.rank <= 10) {
                    block.style.backgroundColor = 'var(--accent-red)';
                } else if (guess.rank <= 100) {
                    block.style.backgroundColor = 'var(--accent-orange)';
                } else if (guess.rank <= 500) {
                    block.style.backgroundColor = 'var(--accent-yellow)';
                } else if (guess.rank <= 1000) {
                    block.style.backgroundColor = 'var(--accent-blue)';
                } else {
                    block.style.backgroundColor = 'var(--accent-cold)';
                }

                container.appendChild(block);
            });
        }

        function shareResult() {
            const guessBlocks = gameState.guesses.slice(-10).map(g => {
                if (g.rank <= 10) return 'üü•';
                if (g.rank <= 100) return 'üüß';
                if (g.rank <= 500) return 'üü®';
                if (g.rank <= 1000) return 'üü¶';
                return '‚¨ú';
            }).join('');

            const text = `Rheumatexto üî¨
Found: ${gameState.targetWord.toUpperCase()}
Guesses: ${gameState.guesses.length}
${guessBlocks}

Play at: [your-url-here]`;

            if (navigator.share) {
                navigator.share({ text });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    alert('Result copied to clipboard!');
                });
            }
        }

        // ==================== STATS ====================
        function updateStatsDisplay() {
            document.getElementById('statPlayed').textContent = stats.played;
            document.getElementById('statWon').textContent = stats.won;
            document.getElementById('statAvg').textContent = stats.won > 0
                ? Math.round(stats.totalGuesses / stats.won)
                : '-';
            document.getElementById('statBest').textContent = stats.bestWin === Infinity
                ? '-'
                : stats.bestWin;
            document.getElementById('statStreak').textContent = stats.currentStreak;
            document.getElementById('statMaxStreak').textContent = stats.maxStreak;
        }

        // ==================== MODALS ====================
        function openModal(id) {
            document.getElementById(id).classList.add('active');
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        function closeAllModals() {
            document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('active'));
        }

        // Global close function for onclick handlers
        window.closeModal = closeModal;

        // ==================== START ====================
        init();
    </script>
</body>
</html>
